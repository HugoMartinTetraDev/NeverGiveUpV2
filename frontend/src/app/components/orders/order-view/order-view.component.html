<div class="order-view-container" *ngIf="order">
    <h1>DÃ©tails de la commande</h1>

    <div class="order-card">
        <div class="order-header">
            <h2>ID de la commande : {{ order.id }}</h2>
            <p class="date">{{ order.date | date:'dd/MM/yyyy HH:mm:ss' }}</p>
        </div>

        <div class="order-items">
            <div class="item" *ngFor="let item of order.items">
                <div class="item-details">
                    <span>{{ item.quantity }}x</span>
                    <span class="item-name">{{ item.name }}</span>
                </div>
                <span class="price">{{ item.price | currency:'EUR' }}</span>
            </div>
        </div>

        <mat-divider></mat-divider>

        <div class="order-summary">
            <div class="summary-row">
                <div class="summary-label">
                    Vente de produits alimentaire<br>
                    (TVA comprise)
                </div>
                <div class="summary-value">{{ order.subtotal | currency:'EUR' }}</div>
            </div>

            <div class="summary-row">
                <div class="summary-label">
                    Frais Pop-Eat ({{ order.fees.percentage }}% | TVA comprise)
                </div>
                <div class="summary-value">{{ order.fees.amount | currency:'EUR' }}</div>
            </div>

            <mat-divider></mat-divider>

            <div class="summary-row total">
                <div class="summary-label">Total</div>
                <div class="summary-value">{{ order.total | currency:'EUR' }}</div>
            </div>
        </div>

        <div class="order-status">
            <h3>Statut de la commande</h3>
            <div class="status-timeline">
                <div class="status-item" *ngFor="let status of order.status">
                    <div class="status-time">{{ status.timestamp }}</div>
                    <div class="status-label">{{ status.status }}</div>
                </div>
            </div>
        </div>
    </div>
</div>